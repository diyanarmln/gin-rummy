/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!***********************!*\
  !*** ./src/script.js ***!
  \***********************/
/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  DOM Creation Functions
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */
var createContainer = function createContainer(containerId, containerColor) {
  var newDiv = document.createElement('div');
  newDiv.id = containerId;
  newDiv.style.backgroundColor = containerColor; // document.body.appendChild(newDiv);

  return newDiv;
};

var createLabel = function createLabel(labelFor, labelText) {
  var newLabel = document.createElement('label');
  newLabel["for"] = labelFor;
  newLabel.innerText = labelText;
  return newLabel;
};

var createInput = function createInput(inputType, inputName, inputValue, inputRequired) {
  var newInput = document.createElement('input');
  newInput.type = inputType;
  newInput.id = inputName;
  newInput.name = inputName;
  newInput.value = inputValue;
  newInput.required = inputRequired;
  return newInput;
};

var createButton = function createButton(btnId, btnText, btnCallback) {
  var newBtn = document.createElement('button');
  newBtn.id = btnId;
  newBtn.innerText = btnText;
  newBtn.addEventListener('click', btnCallback);
  return newBtn;
};

var showCard = function showCard(card) {
  var cardDiv = createContainer('cardDiv', 'white');
  cardDiv.classList.add('card-front');
  var cardElement = document.createElement('div', 'white');
  cardDiv.appendChild(cardElement);
  var colorClass = card.suitColour; // --- show card details in top left corner of card

  var suitNameTop = document.createElement('div');
  suitNameTop.classList.add('card-topleft');
  cardElement.appendChild(suitNameTop);
  var cardNameTop = document.createElement('div');
  cardNameTop.innerText = card.displayName;
  cardNameTop.classList.add('card-corner-rank', "".concat(colorClass));
  suitNameTop.appendChild(cardNameTop);
  var cardSuitTop = document.createElement('div');
  cardSuitTop.classList.add('card-corner-suit', 'suitSize');
  cardSuitTop.innerText = card.suitSymbol;
  suitNameTop.appendChild(cardSuitTop); // === show card details in bottom right corner of card

  var suitNameBottom = document.createElement('div');
  suitNameBottom.classList.add('card-bottomright');
  cardElement.appendChild(suitNameBottom);
  var cardNameBottom = document.createElement('div');
  cardNameBottom.innerText = card.displayName;
  cardNameBottom.classList.add('card-corner-rank', "".concat(colorClass));
  suitNameBottom.appendChild(cardNameBottom);
  var cardSuitBottom = document.createElement('div');
  cardSuitBottom.classList.add('card-corner-suit', 'suitSize');
  cardSuitBottom.innerText = card.suitSymbol;
  suitNameBottom.appendChild(cardSuitBottom);
  cardElement.classList.add('card');
  return cardDiv;
};
/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  DOM Elements
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */

/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  Game Helper Functions
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */


var gameContainer = document.getElementById('game-container');

var initGameBoardDom = function initGameBoardDom(gameData) {
  var boardUpperSection = createContainer('boardUpperSection', 'blue');
  var boardMiddleSection = createContainer('boardMiddleSection', 'green');
  var boardBottomSection = createContainer('boardBottomSection', 'pink');
  var boardGameHelpText = createContainer('boardGameHelpText', 'green'); // upper section of game board

  var opponentHandContainer = createContainer('opponentHandContainer', 'yellow');
  opponentHandContainer.classList.add('card-container', 'hand-position');
  boardUpperSection.appendChild(opponentHandContainer);

  for (var i = 0; i < 10; i += 1) {
    var cardBack = createContainer('cardBack');
    cardBack.classList.add('card-back');
    opponentHandContainer.appendChild(cardBack);
  } // middle section of game board


  var gameFunctionsContainer = createContainer('gameFunctionsContainer');
  gameFunctionsContainer.classList.add('card-container', 'playing-deck-container');
  boardMiddleSection.appendChild(gameFunctionsContainer);
  var leftButtonContainer = createContainer('leftButtonContainer', 'beige');
  leftButtonContainer.classList.add('playing-deck-btn-container');
  var ginBtn = createButton('ginBtn', 'Gin');
  ginBtn.classList.add('btn');
  leftButtonContainer.appendChild(ginBtn);
  var rightButtoncontainer = createContainer('rightButtoncontainer', 'beige');
  rightButtoncontainer.classList.add('playing-deck-btn-container');
  var passBtn = createButton('passBtn', 'Pass');
  passBtn.classList.add('btn');
  rightButtoncontainer.appendChild(passBtn);
  gameFunctionsContainer.appendChild(leftButtonContainer);
  var playingDeck = createContainer('cardBack');
  playingDeck.classList.add('card-deck');
  gameFunctionsContainer.appendChild(playingDeck);
  var discardPile = createContainer('discardPile');
  discardPile.classList.add('discard-deck');
  discardPile.style.marginRight = 0;
  var discardCardForPicking = showCard(gameData.discardCardForPicking);
  discardCardForPicking.classList.remove('card-front');
  discardCardForPicking.classList.add('discard-card-front');
  gameFunctionsContainer.appendChild(discardPile);
  discardPile.appendChild(discardCardForPicking);
  gameFunctionsContainer.appendChild(rightButtoncontainer); // game help text container

  var gameHelpText = createContainer('gameHelpText');
  gameHelpText.innerText = 'test';
  gameHelpText.classList.add('gameHelpText');
  boardGameHelpText.appendChild(gameHelpText); // bottom section of game board

  var playerHandContainer = createContainer('playerHandContainer', 'yellow');
  playerHandContainer.classList.add('card-container');
  boardBottomSection.appendChild(playerHandContainer);
  var playerHand = gameData.playerHand[1];

  for (var _i = 0; _i < playerHand.length; _i += 1) {
    var cardFront = showCard(playerHand[_i]);
    playerHandContainer.appendChild(cardFront);
  }

  var deadwoodCounter = createContainer('deadwoodCounter');
  deadwoodCounter.innerText = "Deadwood: ".concat(gameData.playerDeadwood[1]);
  deadwoodCounter.classList.add('deadwoodContainer');
  boardBottomSection.appendChild(deadwoodCounter);
  gameContainer.appendChild(boardUpperSection);
  gameContainer.appendChild(boardMiddleSection);
  gameContainer.appendChild(boardGameHelpText);
  gameContainer.appendChild(boardBottomSection);
};

var createGame = function createGame() {
  // Make a request to create a new game
  axios.post('/games').then(function (response) {
    // set the global value to the new game.
    currentGame = response.data;
    console.log(response); // display it out to the user
    // runGame(currentGame);

    initGameBoardDom(currentGame);
    createGameBtn.remove();
  })["catch"](function (error) {
    // handle error
    console.log(error);
  });
}; // webpack
// disable and hide buttons by default
// create game
// show pass button
// enable pass button
// pass button
// hide pass button
// computer turn
// random action to pass or not (run draw deck or drawdiscard callback to controller)
// player turn
// enable draw deck
// enable draw discard
// click draw deck
// add card to player hand (controller)
// enable discard of cards from hand
// disable draw deck
// disable draw discard
// computer turn
// random action to draw from deck or discard
// discard highest from deadwood
// check deadwood value 
// enable/show gin if deadwood.length = 1
// enable/show big gin if deadwood.length = 0
// enable/show knock if deadwood sum <= 10
// click drawDiscard
// add card to player hand (controller)
// enable discard of cards from hand
// disable draw deck
// disable draw discard
// computer turn
// random action to draw from deck or discard
// discard highest from deadwood
// check deadwood value 
// enable/show gin if deadwood.length = 1
// enable/show big gin if deadwood.length = 0
// enable/show knock if deadwood sum <= 10
// click discardFromHand
// push to discard pile (controller)
// disable discardFromHand
// recalculate deadwood
// other player turn
// enable draw deck
// enable draw discard
// click gin / big gin
// discard if gin and recalculate deadwood value
// add to player score (contoller)
// check if playerScore above 100 => endGame, show winner, update winner record
// else
// initialise new round (controller)
// create round
// click knock
// calculate player score from deadwood
// check if playerScore above 100 => endGame, show winner, update winner record
// else
// initialise new round (controller)
// create round

/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  Initial Screen
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */


var createGameBtn = createButton('createGameBtn', 'createGameBtn', createGame);
gameContainer.appendChild(createGameBtn);
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLFFBQVgsRUFDR0MsSUFESCxDQUNRLFVBQUNDLFFBQUQsRUFBYztBQUNsQjtBQUNBQyxJQUFBQSxXQUFXLEdBQUdELFFBQVEsQ0FBQ0UsSUFBdkI7QUFDQUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLFFBQVosRUFIa0IsQ0FLbEI7QUFDQTs7QUFDQTlCLElBQUFBLGdCQUFnQixDQUFDK0IsV0FBRCxDQUFoQjtBQUNBSSxJQUFBQSxhQUFhLENBQUNqQixNQUFkO0FBR0QsR0FaSCxXQWFTLFVBQUNrQixLQUFELEVBQVc7QUFDaEI7QUFDQUgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEtBQVo7QUFDRCxHQWhCSDtBQWlCRCxDQW5CRCxFQXFCQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUEsSUFBTUQsYUFBYSxHQUFHNUQsWUFBWSxDQUFDLGVBQUQsRUFBa0IsZUFBbEIsRUFBbUNtRCxVQUFuQyxDQUFsQztBQUNBNUIsYUFBYSxDQUFDWCxXQUFkLENBQTBCZ0QsYUFBMUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2dpbnJ1bW15Ly4vc3JjL3NjcmlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiAgICAgICAgICAgICAgICAgIERPTSBDcmVhdGlvbiBGdW5jdGlvbnNcbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc3QgY3JlYXRlQ29udGFpbmVyID0gKGNvbnRhaW5lcklkLCBjb250YWluZXJDb2xvcikgPT4ge1xuICBjb25zdCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3RGl2LmlkID0gY29udGFpbmVySWQ7XG4gIG5ld0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb250YWluZXJDb2xvcjtcbiAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICByZXR1cm4gbmV3RGl2O1xufTtcblxuY29uc3QgY3JlYXRlTGFiZWwgPSAobGFiZWxGb3IsIGxhYmVsVGV4dCkgPT4ge1xuICBjb25zdCBuZXdMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIG5ld0xhYmVsLmZvciA9IGxhYmVsRm9yO1xuICBuZXdMYWJlbC5pbm5lclRleHQgPSBsYWJlbFRleHQ7XG4gIHJldHVybiBuZXdMYWJlbDtcbn07XG5cbmNvbnN0IGNyZWF0ZUlucHV0ID0gKGlucHV0VHlwZSwgaW5wdXROYW1lLCBpbnB1dFZhbHVlLCBpbnB1dFJlcXVpcmVkKSA9PiB7XG4gIGNvbnN0IG5ld0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgbmV3SW5wdXQudHlwZSA9IGlucHV0VHlwZTtcbiAgbmV3SW5wdXQuaWQgPSBpbnB1dE5hbWU7XG4gIG5ld0lucHV0Lm5hbWUgPSBpbnB1dE5hbWU7XG4gIG5ld0lucHV0LnZhbHVlID0gaW5wdXRWYWx1ZTtcbiAgbmV3SW5wdXQucmVxdWlyZWQgPSBpbnB1dFJlcXVpcmVkO1xuICByZXR1cm4gbmV3SW5wdXQ7XG59O1xuXG5jb25zdCBjcmVhdGVCdXR0b24gPSAoYnRuSWQsIGJ0blRleHQsIGJ0bkNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IG5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBuZXdCdG4uaWQgPSBidG5JZDtcbiAgbmV3QnRuLmlubmVyVGV4dCA9IGJ0blRleHQ7XG4gIG5ld0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJ0bkNhbGxiYWNrKTtcbiAgcmV0dXJuIG5ld0J0bjtcbn07XG5cbmNvbnN0IHNob3dDYXJkID0gKGNhcmQpID0+IHtcblxuICBjb25zdCBjYXJkRGl2ID0gY3JlYXRlQ29udGFpbmVyKCdjYXJkRGl2JywgJ3doaXRlJyk7XG4gIGNhcmREaXYuY2xhc3NMaXN0LmFkZCgnY2FyZC1mcm9udCcpO1xuXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JywgJ3doaXRlJyk7XG4gIGNhcmREaXYuYXBwZW5kQ2hpbGQoY2FyZEVsZW1lbnQpO1xuICBjb25zdCBjb2xvckNsYXNzID0gY2FyZC5zdWl0Q29sb3VyO1xuXG4gIC8vIC0tLSBzaG93IGNhcmQgZGV0YWlscyBpbiB0b3AgbGVmdCBjb3JuZXIgb2YgY2FyZFxuXG4gIGNvbnN0IHN1aXROYW1lVG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHN1aXROYW1lVG9wLmNsYXNzTGlzdC5hZGQoJ2NhcmQtdG9wbGVmdCcpO1xuICBjYXJkRWxlbWVudC5hcHBlbmRDaGlsZChzdWl0TmFtZVRvcCk7XG5cbiAgY29uc3QgY2FyZE5hbWVUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY2FyZE5hbWVUb3AuaW5uZXJUZXh0ID0gY2FyZC5kaXNwbGF5TmFtZTtcbiAgY2FyZE5hbWVUb3AuY2xhc3NMaXN0LmFkZCgnY2FyZC1jb3JuZXItcmFuaycsIGAke2NvbG9yQ2xhc3N9YCk7XG4gIHN1aXROYW1lVG9wLmFwcGVuZENoaWxkKGNhcmROYW1lVG9wKTtcblxuICBjb25zdCBjYXJkU3VpdFRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjYXJkU3VpdFRvcC5jbGFzc0xpc3QuYWRkKCdjYXJkLWNvcm5lci1zdWl0JywgJ3N1aXRTaXplJyk7XG4gIGNhcmRTdWl0VG9wLmlubmVyVGV4dCA9IGNhcmQuc3VpdFN5bWJvbDtcbiAgc3VpdE5hbWVUb3AuYXBwZW5kQ2hpbGQoY2FyZFN1aXRUb3ApO1xuXG4gIC8vID09PSBzaG93IGNhcmQgZGV0YWlscyBpbiBib3R0b20gcmlnaHQgY29ybmVyIG9mIGNhcmRcblxuICBjb25zdCBzdWl0TmFtZUJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzdWl0TmFtZUJvdHRvbS5jbGFzc0xpc3QuYWRkKCdjYXJkLWJvdHRvbXJpZ2h0Jyk7XG4gIGNhcmRFbGVtZW50LmFwcGVuZENoaWxkKHN1aXROYW1lQm90dG9tKTtcblxuICBjb25zdCBjYXJkTmFtZUJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjYXJkTmFtZUJvdHRvbS5pbm5lclRleHQgPSBjYXJkLmRpc3BsYXlOYW1lO1xuICBjYXJkTmFtZUJvdHRvbS5jbGFzc0xpc3QuYWRkKCdjYXJkLWNvcm5lci1yYW5rJywgYCR7Y29sb3JDbGFzc31gKTtcbiAgc3VpdE5hbWVCb3R0b20uYXBwZW5kQ2hpbGQoY2FyZE5hbWVCb3R0b20pO1xuXG4gIGNvbnN0IGNhcmRTdWl0Qm90dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNhcmRTdWl0Qm90dG9tLmNsYXNzTGlzdC5hZGQoJ2NhcmQtY29ybmVyLXN1aXQnLCAnc3VpdFNpemUnKTtcbiAgY2FyZFN1aXRCb3R0b20uaW5uZXJUZXh0ID0gY2FyZC5zdWl0U3ltYm9sO1xuICBzdWl0TmFtZUJvdHRvbS5hcHBlbmRDaGlsZChjYXJkU3VpdEJvdHRvbSk7XG5cbiAgY2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xuXG4gIHJldHVybiBjYXJkRGl2O1xuXG59O1xuXG4vKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiAgICAgICAgICAgICAgICAgIERPTSBFbGVtZW50c1xuICpcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5cblxuLypcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogICAgICAgICAgICAgICAgICBHYW1lIEhlbHBlciBGdW5jdGlvbnNcbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc3QgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNvbnRhaW5lcicpXG5cblxuY29uc3QgaW5pdEdhbWVCb2FyZERvbSA9IChnYW1lRGF0YSkgPT4ge1xuXG4gIGNvbnN0IGJvYXJkVXBwZXJTZWN0aW9uID0gY3JlYXRlQ29udGFpbmVyKCdib2FyZFVwcGVyU2VjdGlvbicsICdibHVlJyk7XG4gIGNvbnN0IGJvYXJkTWlkZGxlU2VjdGlvbiA9IGNyZWF0ZUNvbnRhaW5lcignYm9hcmRNaWRkbGVTZWN0aW9uJywgJ2dyZWVuJyk7XG4gIGNvbnN0IGJvYXJkQm90dG9tU2VjdGlvbiA9IGNyZWF0ZUNvbnRhaW5lcignYm9hcmRCb3R0b21TZWN0aW9uJywgJ3BpbmsnKTtcbiAgY29uc3QgYm9hcmRHYW1lSGVscFRleHQgPSBjcmVhdGVDb250YWluZXIoJ2JvYXJkR2FtZUhlbHBUZXh0JywgJ2dyZWVuJyk7XG5cbiAgLy8gdXBwZXIgc2VjdGlvbiBvZiBnYW1lIGJvYXJkXG4gIGNvbnN0IG9wcG9uZW50SGFuZENvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcignb3Bwb25lbnRIYW5kQ29udGFpbmVyJywgJ3llbGxvdycpO1xuICBvcHBvbmVudEhhbmRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZC1jb250YWluZXInLCAnaGFuZC1wb3NpdGlvbicpO1xuICBib2FyZFVwcGVyU2VjdGlvbi5hcHBlbmRDaGlsZChvcHBvbmVudEhhbmRDb250YWluZXIpO1xuXG4gIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XG4gICAgY29uc3QgY2FyZEJhY2sgPSBjcmVhdGVDb250YWluZXIoJ2NhcmRCYWNrJyk7XG4gICAgY2FyZEJhY2suY2xhc3NMaXN0LmFkZCgnY2FyZC1iYWNrJylcbiAgICBvcHBvbmVudEhhbmRDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZEJhY2spO1xuICB9XG5cbiAgLy8gbWlkZGxlIHNlY3Rpb24gb2YgZ2FtZSBib2FyZFxuICBjb25zdCBnYW1lRnVuY3Rpb25zQ29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKCdnYW1lRnVuY3Rpb25zQ29udGFpbmVyJyk7XG4gIGdhbWVGdW5jdGlvbnNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2FyZC1jb250YWluZXInLCAncGxheWluZy1kZWNrLWNvbnRhaW5lcicpO1xuICBib2FyZE1pZGRsZVNlY3Rpb24uYXBwZW5kQ2hpbGQoZ2FtZUZ1bmN0aW9uc0NvbnRhaW5lcik7XG5cbiAgY29uc3QgbGVmdEJ1dHRvbkNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcignbGVmdEJ1dHRvbkNvbnRhaW5lcicsICdiZWlnZScpO1xuICBsZWZ0QnV0dG9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BsYXlpbmctZGVjay1idG4tY29udGFpbmVyJyk7XG4gIGNvbnN0IGdpbkJ0biA9IGNyZWF0ZUJ1dHRvbignZ2luQnRuJywgJ0dpbicpO1xuICBnaW5CdG4uY2xhc3NMaXN0LmFkZCgnYnRuJyk7XG4gIGxlZnRCdXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoZ2luQnRuKTtcblxuICBjb25zdCByaWdodEJ1dHRvbmNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcigncmlnaHRCdXR0b25jb250YWluZXInLCAnYmVpZ2UnKTtcbiAgcmlnaHRCdXR0b25jb250YWluZXIuY2xhc3NMaXN0LmFkZCgncGxheWluZy1kZWNrLWJ0bi1jb250YWluZXInKVxuICBjb25zdCBwYXNzQnRuID0gY3JlYXRlQnV0dG9uKCdwYXNzQnRuJywgJ1Bhc3MnKTtcbiAgcGFzc0J0bi5jbGFzc0xpc3QuYWRkKCdidG4nKTtcbiAgcmlnaHRCdXR0b25jb250YWluZXIuYXBwZW5kQ2hpbGQocGFzc0J0bik7XG5cbiAgZ2FtZUZ1bmN0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsZWZ0QnV0dG9uQ29udGFpbmVyKTtcblxuICBjb25zdCBwbGF5aW5nRGVjayA9IGNyZWF0ZUNvbnRhaW5lcignY2FyZEJhY2snKTtcbiAgcGxheWluZ0RlY2suY2xhc3NMaXN0LmFkZCgnY2FyZC1kZWNrJyk7XG4gIGdhbWVGdW5jdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocGxheWluZ0RlY2spO1xuXG4gIGNvbnN0IGRpc2NhcmRQaWxlID0gY3JlYXRlQ29udGFpbmVyKCdkaXNjYXJkUGlsZScpO1xuICBkaXNjYXJkUGlsZS5jbGFzc0xpc3QuYWRkKCdkaXNjYXJkLWRlY2snKTtcbiAgZGlzY2FyZFBpbGUuc3R5bGUubWFyZ2luUmlnaHQgPSAwO1xuICBjb25zdCBkaXNjYXJkQ2FyZEZvclBpY2tpbmcgPSBzaG93Q2FyZChnYW1lRGF0YS5kaXNjYXJkQ2FyZEZvclBpY2tpbmcpO1xuICBkaXNjYXJkQ2FyZEZvclBpY2tpbmcuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZC1mcm9udCcpO1xuICBkaXNjYXJkQ2FyZEZvclBpY2tpbmcuY2xhc3NMaXN0LmFkZCgnZGlzY2FyZC1jYXJkLWZyb250Jyk7XG4gIGdhbWVGdW5jdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGlzY2FyZFBpbGUpO1xuICBkaXNjYXJkUGlsZS5hcHBlbmRDaGlsZChkaXNjYXJkQ2FyZEZvclBpY2tpbmcpO1xuXG4gIGdhbWVGdW5jdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocmlnaHRCdXR0b25jb250YWluZXIpO1xuXG4gIC8vIGdhbWUgaGVscCB0ZXh0IGNvbnRhaW5lclxuICBjb25zdCBnYW1lSGVscFRleHQgPSBjcmVhdGVDb250YWluZXIoJ2dhbWVIZWxwVGV4dCcpO1xuICBnYW1lSGVscFRleHQuaW5uZXJUZXh0ID0gJ3Rlc3QnO1xuICBnYW1lSGVscFRleHQuY2xhc3NMaXN0LmFkZCgnZ2FtZUhlbHBUZXh0Jyk7XG4gIGJvYXJkR2FtZUhlbHBUZXh0LmFwcGVuZENoaWxkKGdhbWVIZWxwVGV4dCk7XG5cbiAgLy8gYm90dG9tIHNlY3Rpb24gb2YgZ2FtZSBib2FyZFxuICBjb25zdCBwbGF5ZXJIYW5kQ29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKCdwbGF5ZXJIYW5kQ29udGFpbmVyJywgJ3llbGxvdycpO1xuICBwbGF5ZXJIYW5kQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NhcmQtY29udGFpbmVyJyk7XG4gIGJvYXJkQm90dG9tU2VjdGlvbi5hcHBlbmRDaGlsZChwbGF5ZXJIYW5kQ29udGFpbmVyKTtcbiAgXG4gIGxldCBwbGF5ZXJIYW5kID0gZ2FtZURhdGEucGxheWVySGFuZFsxXTtcblxuICBmb3IobGV0IGkgPSAwOyBpIDwgcGxheWVySGFuZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNhcmRGcm9udCA9IHNob3dDYXJkKHBsYXllckhhbmRbaV0pO1xuICAgIHBsYXllckhhbmRDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZEZyb250KTtcbiAgfVxuXG4gIGNvbnN0IGRlYWR3b29kQ291bnRlciA9IGNyZWF0ZUNvbnRhaW5lcignZGVhZHdvb2RDb3VudGVyJyk7XG4gIGRlYWR3b29kQ291bnRlci5pbm5lclRleHQgPSBgRGVhZHdvb2Q6ICR7Z2FtZURhdGEucGxheWVyRGVhZHdvb2RbMV19YFxuICBkZWFkd29vZENvdW50ZXIuY2xhc3NMaXN0LmFkZCgnZGVhZHdvb2RDb250YWluZXInKVxuICBib2FyZEJvdHRvbVNlY3Rpb24uYXBwZW5kQ2hpbGQoZGVhZHdvb2RDb3VudGVyKTtcblxuICBnYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGJvYXJkVXBwZXJTZWN0aW9uKTtcbiAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZE1pZGRsZVNlY3Rpb24pO1xuICBnYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGJvYXJkR2FtZUhlbHBUZXh0KTtcbiAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZEJvdHRvbVNlY3Rpb24pO1xufVxuXG5jb25zdCBjcmVhdGVHYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBNYWtlIGEgcmVxdWVzdCB0byBjcmVhdGUgYSBuZXcgZ2FtZVxuICBheGlvcy5wb3N0KCcvZ2FtZXMnKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgLy8gc2V0IHRoZSBnbG9iYWwgdmFsdWUgdG8gdGhlIG5ldyBnYW1lLlxuICAgICAgY3VycmVudEdhbWUgPSByZXNwb25zZS5kYXRhO1xuICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgXG4gICAgICAvLyBkaXNwbGF5IGl0IG91dCB0byB0aGUgdXNlclxuICAgICAgLy8gcnVuR2FtZShjdXJyZW50R2FtZSk7XG4gICAgICBpbml0R2FtZUJvYXJkRG9tKGN1cnJlbnRHYW1lKTtcbiAgICAgIGNyZWF0ZUdhbWVCdG4ucmVtb3ZlKCk7XG5cbiAgICAgIFxuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgLy8gaGFuZGxlIGVycm9yXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSk7XG59O1xuXG4vLyB3ZWJwYWNrXG5cbi8vIGRpc2FibGUgYW5kIGhpZGUgYnV0dG9ucyBieSBkZWZhdWx0XG5cbi8vIGNyZWF0ZSBnYW1lXG4vLyBzaG93IHBhc3MgYnV0dG9uXG4vLyBlbmFibGUgcGFzcyBidXR0b25cblxuLy8gcGFzcyBidXR0b25cbi8vIGhpZGUgcGFzcyBidXR0b25cbi8vIGNvbXB1dGVyIHR1cm5cbi8vIHJhbmRvbSBhY3Rpb24gdG8gcGFzcyBvciBub3QgKHJ1biBkcmF3IGRlY2sgb3IgZHJhd2Rpc2NhcmQgY2FsbGJhY2sgdG8gY29udHJvbGxlcilcbi8vIHBsYXllciB0dXJuXG4vLyBlbmFibGUgZHJhdyBkZWNrXG4vLyBlbmFibGUgZHJhdyBkaXNjYXJkXG5cbi8vIGNsaWNrIGRyYXcgZGVja1xuLy8gYWRkIGNhcmQgdG8gcGxheWVyIGhhbmQgKGNvbnRyb2xsZXIpXG4vLyBlbmFibGUgZGlzY2FyZCBvZiBjYXJkcyBmcm9tIGhhbmRcbi8vIGRpc2FibGUgZHJhdyBkZWNrXG4vLyBkaXNhYmxlIGRyYXcgZGlzY2FyZFxuLy8gY29tcHV0ZXIgdHVyblxuLy8gcmFuZG9tIGFjdGlvbiB0byBkcmF3IGZyb20gZGVjayBvciBkaXNjYXJkXG4vLyBkaXNjYXJkIGhpZ2hlc3QgZnJvbSBkZWFkd29vZFxuLy8gY2hlY2sgZGVhZHdvb2QgdmFsdWUgXG4vLyBlbmFibGUvc2hvdyBnaW4gaWYgZGVhZHdvb2QubGVuZ3RoID0gMVxuLy8gZW5hYmxlL3Nob3cgYmlnIGdpbiBpZiBkZWFkd29vZC5sZW5ndGggPSAwXG4vLyBlbmFibGUvc2hvdyBrbm9jayBpZiBkZWFkd29vZCBzdW0gPD0gMTBcblxuLy8gY2xpY2sgZHJhd0Rpc2NhcmRcbi8vIGFkZCBjYXJkIHRvIHBsYXllciBoYW5kIChjb250cm9sbGVyKVxuLy8gZW5hYmxlIGRpc2NhcmQgb2YgY2FyZHMgZnJvbSBoYW5kXG4vLyBkaXNhYmxlIGRyYXcgZGVja1xuLy8gZGlzYWJsZSBkcmF3IGRpc2NhcmRcbi8vIGNvbXB1dGVyIHR1cm5cbi8vIHJhbmRvbSBhY3Rpb24gdG8gZHJhdyBmcm9tIGRlY2sgb3IgZGlzY2FyZFxuLy8gZGlzY2FyZCBoaWdoZXN0IGZyb20gZGVhZHdvb2Rcbi8vIGNoZWNrIGRlYWR3b29kIHZhbHVlIFxuLy8gZW5hYmxlL3Nob3cgZ2luIGlmIGRlYWR3b29kLmxlbmd0aCA9IDFcbi8vIGVuYWJsZS9zaG93IGJpZyBnaW4gaWYgZGVhZHdvb2QubGVuZ3RoID0gMFxuLy8gZW5hYmxlL3Nob3cga25vY2sgaWYgZGVhZHdvb2Qgc3VtIDw9IDEwXG5cbi8vIGNsaWNrIGRpc2NhcmRGcm9tSGFuZFxuLy8gcHVzaCB0byBkaXNjYXJkIHBpbGUgKGNvbnRyb2xsZXIpXG4vLyBkaXNhYmxlIGRpc2NhcmRGcm9tSGFuZFxuLy8gcmVjYWxjdWxhdGUgZGVhZHdvb2Rcbi8vIG90aGVyIHBsYXllciB0dXJuXG4vLyBlbmFibGUgZHJhdyBkZWNrXG4vLyBlbmFibGUgZHJhdyBkaXNjYXJkXG5cbi8vIGNsaWNrIGdpbiAvIGJpZyBnaW5cbi8vIGRpc2NhcmQgaWYgZ2luIGFuZCByZWNhbGN1bGF0ZSBkZWFkd29vZCB2YWx1ZVxuLy8gYWRkIHRvIHBsYXllciBzY29yZSAoY29udG9sbGVyKVxuLy8gY2hlY2sgaWYgcGxheWVyU2NvcmUgYWJvdmUgMTAwID0+IGVuZEdhbWUsIHNob3cgd2lubmVyLCB1cGRhdGUgd2lubmVyIHJlY29yZFxuLy8gZWxzZVxuLy8gaW5pdGlhbGlzZSBuZXcgcm91bmQgKGNvbnRyb2xsZXIpXG4vLyBjcmVhdGUgcm91bmRcblxuLy8gY2xpY2sga25vY2tcbi8vIGNhbGN1bGF0ZSBwbGF5ZXIgc2NvcmUgZnJvbSBkZWFkd29vZFxuLy8gY2hlY2sgaWYgcGxheWVyU2NvcmUgYWJvdmUgMTAwID0+IGVuZEdhbWUsIHNob3cgd2lubmVyLCB1cGRhdGUgd2lubmVyIHJlY29yZFxuLy8gZWxzZVxuLy8gaW5pdGlhbGlzZSBuZXcgcm91bmQgKGNvbnRyb2xsZXIpXG4vLyBjcmVhdGUgcm91bmRcblxuXG5cbiBcblxuXG5cblxuLypcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogICAgICAgICAgICAgICAgICBJbml0aWFsIFNjcmVlblxuICpcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5jb25zdCBjcmVhdGVHYW1lQnRuID0gY3JlYXRlQnV0dG9uKCdjcmVhdGVHYW1lQnRuJywgJ2NyZWF0ZUdhbWVCdG4nLCBjcmVhdGVHYW1lKVxuZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVHYW1lQnRuKTsiXSwibmFtZXMiOlsiY3JlYXRlQ29udGFpbmVyIiwiY29udGFpbmVySWQiLCJjb250YWluZXJDb2xvciIsIm5ld0RpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjcmVhdGVMYWJlbCIsImxhYmVsRm9yIiwibGFiZWxUZXh0IiwibmV3TGFiZWwiLCJpbm5lclRleHQiLCJjcmVhdGVJbnB1dCIsImlucHV0VHlwZSIsImlucHV0TmFtZSIsImlucHV0VmFsdWUiLCJpbnB1dFJlcXVpcmVkIiwibmV3SW5wdXQiLCJ0eXBlIiwibmFtZSIsInZhbHVlIiwicmVxdWlyZWQiLCJjcmVhdGVCdXR0b24iLCJidG5JZCIsImJ0blRleHQiLCJidG5DYWxsYmFjayIsIm5ld0J0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93Q2FyZCIsImNhcmQiLCJjYXJkRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2FyZEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNvbG9yQ2xhc3MiLCJzdWl0Q29sb3VyIiwic3VpdE5hbWVUb3AiLCJjYXJkTmFtZVRvcCIsImRpc3BsYXlOYW1lIiwiY2FyZFN1aXRUb3AiLCJzdWl0U3ltYm9sIiwic3VpdE5hbWVCb3R0b20iLCJjYXJkTmFtZUJvdHRvbSIsImNhcmRTdWl0Qm90dG9tIiwiZ2FtZUNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiaW5pdEdhbWVCb2FyZERvbSIsImdhbWVEYXRhIiwiYm9hcmRVcHBlclNlY3Rpb24iLCJib2FyZE1pZGRsZVNlY3Rpb24iLCJib2FyZEJvdHRvbVNlY3Rpb24iLCJib2FyZEdhbWVIZWxwVGV4dCIsIm9wcG9uZW50SGFuZENvbnRhaW5lciIsImkiLCJjYXJkQmFjayIsImdhbWVGdW5jdGlvbnNDb250YWluZXIiLCJsZWZ0QnV0dG9uQ29udGFpbmVyIiwiZ2luQnRuIiwicmlnaHRCdXR0b25jb250YWluZXIiLCJwYXNzQnRuIiwicGxheWluZ0RlY2siLCJkaXNjYXJkUGlsZSIsIm1hcmdpblJpZ2h0IiwiZGlzY2FyZENhcmRGb3JQaWNraW5nIiwicmVtb3ZlIiwiZ2FtZUhlbHBUZXh0IiwicGxheWVySGFuZENvbnRhaW5lciIsInBsYXllckhhbmQiLCJsZW5ndGgiLCJjYXJkRnJvbnQiLCJkZWFkd29vZENvdW50ZXIiLCJwbGF5ZXJEZWFkd29vZCIsImNyZWF0ZUdhbWUiLCJheGlvcyIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjdXJyZW50R2FtZSIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlR2FtZUJ0biIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==