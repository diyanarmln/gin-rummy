/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!***********************!*\
  !*** ./src/script.js ***!
  \***********************/
/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  DOM Creation Functions
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */
var createContainer = function createContainer(containerId, containerColor) {
  var newDiv = document.createElement('div');
  newDiv.id = containerId;
  newDiv.style.backgroundColor = containerColor; // document.body.appendChild(newDiv);

  return newDiv;
};

var createLabel = function createLabel(labelFor, labelText) {
  var newLabel = document.createElement('label');
  newLabel["for"] = labelFor;
  newLabel.innerText = labelText;
  return newLabel;
};

var createInput = function createInput(inputType, inputName, inputValue, inputRequired) {
  var newInput = document.createElement('input');
  newInput.type = inputType;
  newInput.id = inputName;
  newInput.name = inputName;
  newInput.value = inputValue;
  newInput.required = inputRequired;
  return newInput;
};

var createButton = function createButton(btnId, btnText, btnCallback) {
  var newBtn = document.createElement('button');
  newBtn.id = btnId;
  newBtn.innerText = btnText;
  newBtn.addEventListener('click', btnCallback);
  return newBtn;
};

var showCard = function showCard(card) {
  var cardDiv = createContainer('cardDiv', 'white');
  cardDiv.classList.add('card-front');
  var cardElement = document.createElement('div', 'white');
  cardDiv.appendChild(cardElement);
  var colorClass = card.suitColour; // --- show card details in top left corner of card

  var suitNameTop = document.createElement('div');
  suitNameTop.classList.add('card-topleft');
  cardElement.appendChild(suitNameTop);
  var cardNameTop = document.createElement('div');
  cardNameTop.innerText = card.displayName;
  cardNameTop.classList.add('card-corner-rank', "".concat(colorClass));
  suitNameTop.appendChild(cardNameTop);
  var cardSuitTop = document.createElement('div');
  cardSuitTop.classList.add('card-corner-suit', 'suitSize');
  cardSuitTop.innerText = card.suitSymbol;
  suitNameTop.appendChild(cardSuitTop); // === show card details in bottom right corner of card

  var suitNameBottom = document.createElement('div');
  suitNameBottom.classList.add('card-bottomright');
  cardElement.appendChild(suitNameBottom);
  var cardNameBottom = document.createElement('div');
  cardNameBottom.innerText = card.displayName;
  cardNameBottom.classList.add('card-corner-rank', "".concat(colorClass));
  suitNameBottom.appendChild(cardNameBottom);
  var cardSuitBottom = document.createElement('div');
  cardSuitBottom.classList.add('card-corner-suit', 'suitSize');
  cardSuitBottom.innerText = card.suitSymbol;
  suitNameBottom.appendChild(cardSuitBottom);
  cardElement.classList.add('card');
  return cardDiv;
};
/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  DOM Elements
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */

/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  Game Helper Functions
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */


var gameContainer = document.getElementById('game-container');

var initGameBoardDom = function initGameBoardDom(gameData) {
  var boardUpperSection = createContainer('boardUpperSection', 'blue');
  var boardMiddleSection = createContainer('boardMiddleSection', 'green');
  var boardBottomSection = createContainer('boardBottomSection', 'pink');
  var boardGameHelpText = createContainer('boardGameHelpText', 'green'); // upper section of game board

  var opponentHandContainer = createContainer('opponentHandContainer', 'yellow');
  opponentHandContainer.classList.add('card-container', 'hand-position');
  boardUpperSection.appendChild(opponentHandContainer);

  for (var i = 0; i < 10; i += 1) {
    var cardBack = createContainer('cardBack');
    cardBack.classList.add('card-back');
    opponentHandContainer.appendChild(cardBack);
  } // middle section of game board


  var gameFunctionsContainer = createContainer('gameFunctionsContainer');
  gameFunctionsContainer.classList.add('card-container', 'playing-deck-container');
  boardMiddleSection.appendChild(gameFunctionsContainer);
  var leftButtonContainer = createContainer('leftButtonContainer', 'beige');
  leftButtonContainer.classList.add('playing-deck-btn-container');
  var ginBtn = createButton('ginBtn', 'Gin');
  ginBtn.classList.add('btn');
  leftButtonContainer.appendChild(ginBtn);
  var rightButtoncontainer = createContainer('rightButtoncontainer', 'beige');
  rightButtoncontainer.classList.add('playing-deck-btn-container');
  var passBtn = createButton('passBtn', 'Pass');
  passBtn.classList.add('btn');
  rightButtoncontainer.appendChild(passBtn);
  gameFunctionsContainer.appendChild(leftButtonContainer);
  var playingDeck = createContainer('cardBack');
  playingDeck.classList.add('card-deck');
  gameFunctionsContainer.appendChild(playingDeck);
  var discardPile = createContainer('discardPile');
  discardPile.classList.add('discard-deck');
  discardPile.style.marginRight = 0;
  var discardCardForPicking = showCard(gameData.discardCardForPicking);
  discardCardForPicking.classList.remove('card-front');
  discardCardForPicking.classList.add('discard-card-front');
  gameFunctionsContainer.appendChild(discardPile);
  discardPile.appendChild(discardCardForPicking);
  gameFunctionsContainer.appendChild(rightButtoncontainer); // game help text container

  var gameHelpText = createContainer('gameHelpText');
  gameHelpText.innerText = 'test';
  gameHelpText.classList.add('gameHelpText');
  boardGameHelpText.appendChild(gameHelpText); // bottom section of game board

  var playerHandContainer = createContainer('playerHandContainer', 'yellow');
  playerHandContainer.classList.add('card-container');
  boardBottomSection.appendChild(playerHandContainer);
  var playerHand = gameData.playerHand[1];

  for (var _i = 0; _i < playerHand.length; _i += 1) {
    var cardFront = showCard(playerHand[_i]);
    playerHandContainer.appendChild(cardFront);
  }

  var deadwoodCounter = createContainer('deadwoodCounter');
  deadwoodCounter.innerText = "Deadwood: ".concat(gameData.playerDeadwood[1]);
  deadwoodCounter.classList.add('deadwoodContainer');
  boardBottomSection.appendChild(deadwoodCounter);
  gameContainer.appendChild(boardUpperSection);
  gameContainer.appendChild(boardMiddleSection);
  gameContainer.appendChild(boardGameHelpText);
  gameContainer.appendChild(boardBottomSection);
};

var createGame = function createGame() {
  // Make a request to create a new game
  axios.post('/games').then(function (response) {
    // set the global value to the new game.
    currentGame = response.data;
    console.log(response); // display it out to the user
    // runGame(currentGame);

    initGameBoardDom(currentGame);
    createGameBtn.remove();
  })["catch"](function (error) {
    // handle error
    console.log(error);
  });
}; // webpack
// disable and hide buttons by default
// create game
// show pass button
// enable pass button
// pass button
// hide pass button
// computer turn
// random action to pass or not (run draw deck or drawdiscard callback to controller)
// player turn
// enable draw deck
// enable draw discard
// click draw deck
// add card to player hand (controller)
// enable discard of cards from hand
// disable draw deck
// disable draw discard
// computer turn
// random action to draw from deck or discard
// discard highest from deadwood
// check deadwood value 
// enable/show gin if deadwood.length = 1
// enable/show big gin if deadwood.length = 0
// enable/show knock if deadwood sum <= 10
// click drawDiscard
// add card to player hand (controller)
// enable discard of cards from hand
// disable draw deck
// disable draw discard
// computer turn
// random action to draw from deck or discard
// discard highest from deadwood
// check deadwood value 
// enable/show gin if deadwood.length = 1
// enable/show big gin if deadwood.length = 0
// enable/show knock if deadwood sum <= 10
// click discardFromHand
// push to discard pile (controller)
// disable discardFromHand
// recalculate deadwood
// other player turn
// enable draw deck
// enable draw discard
// click gin / big gin
// discard if gin and recalculate deadwood value
// add to player score (contoller)
// check if playerScore above 100 => endGame, show winner, update winner record
// else
// initialise new round (controller)
// create round
// click knock
// calculate player score from deadwood
// check if playerScore above 100 => endGame, show winner, update winner record
// else
// initialise new round (controller)
// create round

/*
 * ========================================================
 * ========================================================
 * ========================================================
 * ========================================================
 *
 *                  Initial Screen
 *
 * ========================================================
 * ========================================================
 * ========================================================
 */


var createGameBtn = createButton('createGameBtn', 'createGameBtn', createGame);
document.body.appendChild(createGameBtn);
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLFFBQVgsRUFDR0MsSUFESCxDQUNRLFVBQUNDLFFBQUQsRUFBYztBQUNsQjtBQUNBQyxJQUFBQSxXQUFXLEdBQUdELFFBQVEsQ0FBQ0UsSUFBdkI7QUFDQUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLFFBQVosRUFIa0IsQ0FLbEI7QUFDQTs7QUFDQTlCLElBQUFBLGdCQUFnQixDQUFDK0IsV0FBRCxDQUFoQjtBQUNBSSxJQUFBQSxhQUFhLENBQUNqQixNQUFkO0FBR0QsR0FaSCxXQWFTLFVBQUNrQixLQUFELEVBQVc7QUFDaEI7QUFDQUgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEtBQVo7QUFDRCxHQWhCSDtBQWlCRCxDQW5CRCxFQXFCQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUEsSUFBTUQsYUFBYSxHQUFHNUQsWUFBWSxDQUFDLGVBQUQsRUFBa0IsZUFBbEIsRUFBbUNtRCxVQUFuQyxDQUFsQztBQUNBdkUsUUFBUSxDQUFDa0YsSUFBVCxDQUFjbEQsV0FBZCxDQUEwQmdELGFBQTFCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9naW5ydW1teS8uL3NyYy9zY3JpcHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogICAgICAgICAgICAgICAgICBET00gQ3JlYXRpb24gRnVuY3Rpb25zXG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnN0IGNyZWF0ZUNvbnRhaW5lciA9IChjb250YWluZXJJZCwgY29udGFpbmVyQ29sb3IpID0+IHtcbiAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5ld0Rpdi5pZCA9IGNvbnRhaW5lcklkO1xuICBuZXdEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29udGFpbmVyQ29sb3I7XG4gIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobmV3RGl2KTtcbiAgcmV0dXJuIG5ld0Rpdjtcbn07XG5cbmNvbnN0IGNyZWF0ZUxhYmVsID0gKGxhYmVsRm9yLCBsYWJlbFRleHQpID0+IHtcbiAgY29uc3QgbmV3TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBuZXdMYWJlbC5mb3IgPSBsYWJlbEZvcjtcbiAgbmV3TGFiZWwuaW5uZXJUZXh0ID0gbGFiZWxUZXh0O1xuICByZXR1cm4gbmV3TGFiZWw7XG59O1xuXG5jb25zdCBjcmVhdGVJbnB1dCA9IChpbnB1dFR5cGUsIGlucHV0TmFtZSwgaW5wdXRWYWx1ZSwgaW5wdXRSZXF1aXJlZCkgPT4ge1xuICBjb25zdCBuZXdJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIG5ld0lucHV0LnR5cGUgPSBpbnB1dFR5cGU7XG4gIG5ld0lucHV0LmlkID0gaW5wdXROYW1lO1xuICBuZXdJbnB1dC5uYW1lID0gaW5wdXROYW1lO1xuICBuZXdJbnB1dC52YWx1ZSA9IGlucHV0VmFsdWU7XG4gIG5ld0lucHV0LnJlcXVpcmVkID0gaW5wdXRSZXF1aXJlZDtcbiAgcmV0dXJuIG5ld0lucHV0O1xufTtcblxuY29uc3QgY3JlYXRlQnV0dG9uID0gKGJ0bklkLCBidG5UZXh0LCBidG5DYWxsYmFjaykgPT4ge1xuICBjb25zdCBuZXdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbmV3QnRuLmlkID0gYnRuSWQ7XG4gIG5ld0J0bi5pbm5lclRleHQgPSBidG5UZXh0O1xuICBuZXdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBidG5DYWxsYmFjayk7XG4gIHJldHVybiBuZXdCdG47XG59O1xuXG5jb25zdCBzaG93Q2FyZCA9IChjYXJkKSA9PiB7XG5cbiAgY29uc3QgY2FyZERpdiA9IGNyZWF0ZUNvbnRhaW5lcignY2FyZERpdicsICd3aGl0ZScpO1xuICBjYXJkRGl2LmNsYXNzTGlzdC5hZGQoJ2NhcmQtZnJvbnQnKTtcblxuICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicsICd3aGl0ZScpO1xuICBjYXJkRGl2LmFwcGVuZENoaWxkKGNhcmRFbGVtZW50KTtcbiAgY29uc3QgY29sb3JDbGFzcyA9IGNhcmQuc3VpdENvbG91cjtcblxuICAvLyAtLS0gc2hvdyBjYXJkIGRldGFpbHMgaW4gdG9wIGxlZnQgY29ybmVyIG9mIGNhcmRcblxuICBjb25zdCBzdWl0TmFtZVRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzdWl0TmFtZVRvcC5jbGFzc0xpc3QuYWRkKCdjYXJkLXRvcGxlZnQnKTtcbiAgY2FyZEVsZW1lbnQuYXBwZW5kQ2hpbGQoc3VpdE5hbWVUb3ApO1xuXG4gIGNvbnN0IGNhcmROYW1lVG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNhcmROYW1lVG9wLmlubmVyVGV4dCA9IGNhcmQuZGlzcGxheU5hbWU7XG4gIGNhcmROYW1lVG9wLmNsYXNzTGlzdC5hZGQoJ2NhcmQtY29ybmVyLXJhbmsnLCBgJHtjb2xvckNsYXNzfWApO1xuICBzdWl0TmFtZVRvcC5hcHBlbmRDaGlsZChjYXJkTmFtZVRvcCk7XG5cbiAgY29uc3QgY2FyZFN1aXRUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY2FyZFN1aXRUb3AuY2xhc3NMaXN0LmFkZCgnY2FyZC1jb3JuZXItc3VpdCcsICdzdWl0U2l6ZScpO1xuICBjYXJkU3VpdFRvcC5pbm5lclRleHQgPSBjYXJkLnN1aXRTeW1ib2w7XG4gIHN1aXROYW1lVG9wLmFwcGVuZENoaWxkKGNhcmRTdWl0VG9wKTtcblxuICAvLyA9PT0gc2hvdyBjYXJkIGRldGFpbHMgaW4gYm90dG9tIHJpZ2h0IGNvcm5lciBvZiBjYXJkXG5cbiAgY29uc3Qgc3VpdE5hbWVCb3R0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc3VpdE5hbWVCb3R0b20uY2xhc3NMaXN0LmFkZCgnY2FyZC1ib3R0b21yaWdodCcpO1xuICBjYXJkRWxlbWVudC5hcHBlbmRDaGlsZChzdWl0TmFtZUJvdHRvbSk7XG5cbiAgY29uc3QgY2FyZE5hbWVCb3R0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY2FyZE5hbWVCb3R0b20uaW5uZXJUZXh0ID0gY2FyZC5kaXNwbGF5TmFtZTtcbiAgY2FyZE5hbWVCb3R0b20uY2xhc3NMaXN0LmFkZCgnY2FyZC1jb3JuZXItcmFuaycsIGAke2NvbG9yQ2xhc3N9YCk7XG4gIHN1aXROYW1lQm90dG9tLmFwcGVuZENoaWxkKGNhcmROYW1lQm90dG9tKTtcblxuICBjb25zdCBjYXJkU3VpdEJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjYXJkU3VpdEJvdHRvbS5jbGFzc0xpc3QuYWRkKCdjYXJkLWNvcm5lci1zdWl0JywgJ3N1aXRTaXplJyk7XG4gIGNhcmRTdWl0Qm90dG9tLmlubmVyVGV4dCA9IGNhcmQuc3VpdFN5bWJvbDtcbiAgc3VpdE5hbWVCb3R0b20uYXBwZW5kQ2hpbGQoY2FyZFN1aXRCb3R0b20pO1xuXG4gIGNhcmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NhcmQnKTtcblxuICByZXR1cm4gY2FyZERpdjtcblxufTtcblxuLypcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogICAgICAgICAgICAgICAgICBET00gRWxlbWVudHNcbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuXG5cbi8qXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqICAgICAgICAgICAgICAgICAgR2FtZSBIZWxwZXIgRnVuY3Rpb25zXG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmNvbnN0IGdhbWVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jb250YWluZXInKVxuXG5cbmNvbnN0IGluaXRHYW1lQm9hcmREb20gPSAoZ2FtZURhdGEpID0+IHtcblxuICBjb25zdCBib2FyZFVwcGVyU2VjdGlvbiA9IGNyZWF0ZUNvbnRhaW5lcignYm9hcmRVcHBlclNlY3Rpb24nLCAnYmx1ZScpO1xuICBjb25zdCBib2FyZE1pZGRsZVNlY3Rpb24gPSBjcmVhdGVDb250YWluZXIoJ2JvYXJkTWlkZGxlU2VjdGlvbicsICdncmVlbicpO1xuICBjb25zdCBib2FyZEJvdHRvbVNlY3Rpb24gPSBjcmVhdGVDb250YWluZXIoJ2JvYXJkQm90dG9tU2VjdGlvbicsICdwaW5rJyk7XG4gIGNvbnN0IGJvYXJkR2FtZUhlbHBUZXh0ID0gY3JlYXRlQ29udGFpbmVyKCdib2FyZEdhbWVIZWxwVGV4dCcsICdncmVlbicpO1xuXG4gIC8vIHVwcGVyIHNlY3Rpb24gb2YgZ2FtZSBib2FyZFxuICBjb25zdCBvcHBvbmVudEhhbmRDb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoJ29wcG9uZW50SGFuZENvbnRhaW5lcicsICd5ZWxsb3cnKTtcbiAgb3Bwb25lbnRIYW5kQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NhcmQtY29udGFpbmVyJywgJ2hhbmQtcG9zaXRpb24nKTtcbiAgYm9hcmRVcHBlclNlY3Rpb24uYXBwZW5kQ2hpbGQob3Bwb25lbnRIYW5kQ29udGFpbmVyKTtcblxuICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNhcmRCYWNrID0gY3JlYXRlQ29udGFpbmVyKCdjYXJkQmFjaycpO1xuICAgIGNhcmRCYWNrLmNsYXNzTGlzdC5hZGQoJ2NhcmQtYmFjaycpXG4gICAgb3Bwb25lbnRIYW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmRCYWNrKTtcbiAgfVxuXG4gIC8vIG1pZGRsZSBzZWN0aW9uIG9mIGdhbWUgYm9hcmRcbiAgY29uc3QgZ2FtZUZ1bmN0aW9uc0NvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcignZ2FtZUZ1bmN0aW9uc0NvbnRhaW5lcicpO1xuICBnYW1lRnVuY3Rpb25zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NhcmQtY29udGFpbmVyJywgJ3BsYXlpbmctZGVjay1jb250YWluZXInKTtcbiAgYm9hcmRNaWRkbGVTZWN0aW9uLmFwcGVuZENoaWxkKGdhbWVGdW5jdGlvbnNDb250YWluZXIpO1xuXG4gIGNvbnN0IGxlZnRCdXR0b25Db250YWluZXIgPSBjcmVhdGVDb250YWluZXIoJ2xlZnRCdXR0b25Db250YWluZXInLCAnYmVpZ2UnKTtcbiAgbGVmdEJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwbGF5aW5nLWRlY2stYnRuLWNvbnRhaW5lcicpO1xuICBjb25zdCBnaW5CdG4gPSBjcmVhdGVCdXR0b24oJ2dpbkJ0bicsICdHaW4nKTtcbiAgZ2luQnRuLmNsYXNzTGlzdC5hZGQoJ2J0bicpO1xuICBsZWZ0QnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGdpbkJ0bik7XG5cbiAgY29uc3QgcmlnaHRCdXR0b25jb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoJ3JpZ2h0QnV0dG9uY29udGFpbmVyJywgJ2JlaWdlJyk7XG4gIHJpZ2h0QnV0dG9uY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3BsYXlpbmctZGVjay1idG4tY29udGFpbmVyJylcbiAgY29uc3QgcGFzc0J0biA9IGNyZWF0ZUJ1dHRvbigncGFzc0J0bicsICdQYXNzJyk7XG4gIHBhc3NCdG4uY2xhc3NMaXN0LmFkZCgnYnRuJyk7XG4gIHJpZ2h0QnV0dG9uY29udGFpbmVyLmFwcGVuZENoaWxkKHBhc3NCdG4pO1xuXG4gIGdhbWVGdW5jdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQobGVmdEJ1dHRvbkNvbnRhaW5lcik7XG5cbiAgY29uc3QgcGxheWluZ0RlY2sgPSBjcmVhdGVDb250YWluZXIoJ2NhcmRCYWNrJyk7XG4gIHBsYXlpbmdEZWNrLmNsYXNzTGlzdC5hZGQoJ2NhcmQtZGVjaycpO1xuICBnYW1lRnVuY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYXlpbmdEZWNrKTtcblxuICBjb25zdCBkaXNjYXJkUGlsZSA9IGNyZWF0ZUNvbnRhaW5lcignZGlzY2FyZFBpbGUnKTtcbiAgZGlzY2FyZFBpbGUuY2xhc3NMaXN0LmFkZCgnZGlzY2FyZC1kZWNrJyk7XG4gIGRpc2NhcmRQaWxlLnN0eWxlLm1hcmdpblJpZ2h0ID0gMDtcbiAgY29uc3QgZGlzY2FyZENhcmRGb3JQaWNraW5nID0gc2hvd0NhcmQoZ2FtZURhdGEuZGlzY2FyZENhcmRGb3JQaWNraW5nKTtcbiAgZGlzY2FyZENhcmRGb3JQaWNraW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmQtZnJvbnQnKTtcbiAgZGlzY2FyZENhcmRGb3JQaWNraW5nLmNsYXNzTGlzdC5hZGQoJ2Rpc2NhcmQtY2FyZC1mcm9udCcpO1xuICBnYW1lRnVuY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpc2NhcmRQaWxlKTtcbiAgZGlzY2FyZFBpbGUuYXBwZW5kQ2hpbGQoZGlzY2FyZENhcmRGb3JQaWNraW5nKTtcblxuICBnYW1lRnVuY3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHJpZ2h0QnV0dG9uY29udGFpbmVyKTtcblxuICAvLyBnYW1lIGhlbHAgdGV4dCBjb250YWluZXJcbiAgY29uc3QgZ2FtZUhlbHBUZXh0ID0gY3JlYXRlQ29udGFpbmVyKCdnYW1lSGVscFRleHQnKTtcbiAgZ2FtZUhlbHBUZXh0LmlubmVyVGV4dCA9ICd0ZXN0JztcbiAgZ2FtZUhlbHBUZXh0LmNsYXNzTGlzdC5hZGQoJ2dhbWVIZWxwVGV4dCcpO1xuICBib2FyZEdhbWVIZWxwVGV4dC5hcHBlbmRDaGlsZChnYW1lSGVscFRleHQpO1xuXG4gIC8vIGJvdHRvbSBzZWN0aW9uIG9mIGdhbWUgYm9hcmRcbiAgY29uc3QgcGxheWVySGFuZENvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcigncGxheWVySGFuZENvbnRhaW5lcicsICd5ZWxsb3cnKTtcbiAgcGxheWVySGFuZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjYXJkLWNvbnRhaW5lcicpO1xuICBib2FyZEJvdHRvbVNlY3Rpb24uYXBwZW5kQ2hpbGQocGxheWVySGFuZENvbnRhaW5lcik7XG4gIFxuICBsZXQgcGxheWVySGFuZCA9IGdhbWVEYXRhLnBsYXllckhhbmRbMV07XG5cbiAgZm9yKGxldCBpID0gMDsgaSA8IHBsYXllckhhbmQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBjYXJkRnJvbnQgPSBzaG93Q2FyZChwbGF5ZXJIYW5kW2ldKTtcbiAgICBwbGF5ZXJIYW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmRGcm9udCk7XG4gIH1cblxuICBjb25zdCBkZWFkd29vZENvdW50ZXIgPSBjcmVhdGVDb250YWluZXIoJ2RlYWR3b29kQ291bnRlcicpO1xuICBkZWFkd29vZENvdW50ZXIuaW5uZXJUZXh0ID0gYERlYWR3b29kOiAke2dhbWVEYXRhLnBsYXllckRlYWR3b29kWzFdfWBcbiAgZGVhZHdvb2RDb3VudGVyLmNsYXNzTGlzdC5hZGQoJ2RlYWR3b29kQ29udGFpbmVyJylcbiAgYm9hcmRCb3R0b21TZWN0aW9uLmFwcGVuZENoaWxkKGRlYWR3b29kQ291bnRlcik7XG5cbiAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZFVwcGVyU2VjdGlvbik7XG4gIGdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoYm9hcmRNaWRkbGVTZWN0aW9uKTtcbiAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZEdhbWVIZWxwVGV4dCk7XG4gIGdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoYm9hcmRCb3R0b21TZWN0aW9uKTtcbn1cblxuY29uc3QgY3JlYXRlR2FtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gTWFrZSBhIHJlcXVlc3QgdG8gY3JlYXRlIGEgbmV3IGdhbWVcbiAgYXhpb3MucG9zdCgnL2dhbWVzJylcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIC8vIHNldCB0aGUgZ2xvYmFsIHZhbHVlIHRvIHRoZSBuZXcgZ2FtZS5cbiAgICAgIGN1cnJlbnRHYW1lID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgIFxuICAgICAgLy8gZGlzcGxheSBpdCBvdXQgdG8gdGhlIHVzZXJcbiAgICAgIC8vIHJ1bkdhbWUoY3VycmVudEdhbWUpO1xuICAgICAgaW5pdEdhbWVCb2FyZERvbShjdXJyZW50R2FtZSk7XG4gICAgICBjcmVhdGVHYW1lQnRuLnJlbW92ZSgpO1xuXG4gICAgICBcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIC8vIGhhbmRsZSBlcnJvclxuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH0pO1xufTtcblxuLy8gd2VicGFja1xuXG4vLyBkaXNhYmxlIGFuZCBoaWRlIGJ1dHRvbnMgYnkgZGVmYXVsdFxuXG4vLyBjcmVhdGUgZ2FtZVxuLy8gc2hvdyBwYXNzIGJ1dHRvblxuLy8gZW5hYmxlIHBhc3MgYnV0dG9uXG5cbi8vIHBhc3MgYnV0dG9uXG4vLyBoaWRlIHBhc3MgYnV0dG9uXG4vLyBjb21wdXRlciB0dXJuXG4vLyByYW5kb20gYWN0aW9uIHRvIHBhc3Mgb3Igbm90IChydW4gZHJhdyBkZWNrIG9yIGRyYXdkaXNjYXJkIGNhbGxiYWNrIHRvIGNvbnRyb2xsZXIpXG4vLyBwbGF5ZXIgdHVyblxuLy8gZW5hYmxlIGRyYXcgZGVja1xuLy8gZW5hYmxlIGRyYXcgZGlzY2FyZFxuXG4vLyBjbGljayBkcmF3IGRlY2tcbi8vIGFkZCBjYXJkIHRvIHBsYXllciBoYW5kIChjb250cm9sbGVyKVxuLy8gZW5hYmxlIGRpc2NhcmQgb2YgY2FyZHMgZnJvbSBoYW5kXG4vLyBkaXNhYmxlIGRyYXcgZGVja1xuLy8gZGlzYWJsZSBkcmF3IGRpc2NhcmRcbi8vIGNvbXB1dGVyIHR1cm5cbi8vIHJhbmRvbSBhY3Rpb24gdG8gZHJhdyBmcm9tIGRlY2sgb3IgZGlzY2FyZFxuLy8gZGlzY2FyZCBoaWdoZXN0IGZyb20gZGVhZHdvb2Rcbi8vIGNoZWNrIGRlYWR3b29kIHZhbHVlIFxuLy8gZW5hYmxlL3Nob3cgZ2luIGlmIGRlYWR3b29kLmxlbmd0aCA9IDFcbi8vIGVuYWJsZS9zaG93IGJpZyBnaW4gaWYgZGVhZHdvb2QubGVuZ3RoID0gMFxuLy8gZW5hYmxlL3Nob3cga25vY2sgaWYgZGVhZHdvb2Qgc3VtIDw9IDEwXG5cbi8vIGNsaWNrIGRyYXdEaXNjYXJkXG4vLyBhZGQgY2FyZCB0byBwbGF5ZXIgaGFuZCAoY29udHJvbGxlcilcbi8vIGVuYWJsZSBkaXNjYXJkIG9mIGNhcmRzIGZyb20gaGFuZFxuLy8gZGlzYWJsZSBkcmF3IGRlY2tcbi8vIGRpc2FibGUgZHJhdyBkaXNjYXJkXG4vLyBjb21wdXRlciB0dXJuXG4vLyByYW5kb20gYWN0aW9uIHRvIGRyYXcgZnJvbSBkZWNrIG9yIGRpc2NhcmRcbi8vIGRpc2NhcmQgaGlnaGVzdCBmcm9tIGRlYWR3b29kXG4vLyBjaGVjayBkZWFkd29vZCB2YWx1ZSBcbi8vIGVuYWJsZS9zaG93IGdpbiBpZiBkZWFkd29vZC5sZW5ndGggPSAxXG4vLyBlbmFibGUvc2hvdyBiaWcgZ2luIGlmIGRlYWR3b29kLmxlbmd0aCA9IDBcbi8vIGVuYWJsZS9zaG93IGtub2NrIGlmIGRlYWR3b29kIHN1bSA8PSAxMFxuXG4vLyBjbGljayBkaXNjYXJkRnJvbUhhbmRcbi8vIHB1c2ggdG8gZGlzY2FyZCBwaWxlIChjb250cm9sbGVyKVxuLy8gZGlzYWJsZSBkaXNjYXJkRnJvbUhhbmRcbi8vIHJlY2FsY3VsYXRlIGRlYWR3b29kXG4vLyBvdGhlciBwbGF5ZXIgdHVyblxuLy8gZW5hYmxlIGRyYXcgZGVja1xuLy8gZW5hYmxlIGRyYXcgZGlzY2FyZFxuXG4vLyBjbGljayBnaW4gLyBiaWcgZ2luXG4vLyBkaXNjYXJkIGlmIGdpbiBhbmQgcmVjYWxjdWxhdGUgZGVhZHdvb2QgdmFsdWVcbi8vIGFkZCB0byBwbGF5ZXIgc2NvcmUgKGNvbnRvbGxlcilcbi8vIGNoZWNrIGlmIHBsYXllclNjb3JlIGFib3ZlIDEwMCA9PiBlbmRHYW1lLCBzaG93IHdpbm5lciwgdXBkYXRlIHdpbm5lciByZWNvcmRcbi8vIGVsc2Vcbi8vIGluaXRpYWxpc2UgbmV3IHJvdW5kIChjb250cm9sbGVyKVxuLy8gY3JlYXRlIHJvdW5kXG5cbi8vIGNsaWNrIGtub2NrXG4vLyBjYWxjdWxhdGUgcGxheWVyIHNjb3JlIGZyb20gZGVhZHdvb2Rcbi8vIGNoZWNrIGlmIHBsYXllclNjb3JlIGFib3ZlIDEwMCA9PiBlbmRHYW1lLCBzaG93IHdpbm5lciwgdXBkYXRlIHdpbm5lciByZWNvcmRcbi8vIGVsc2Vcbi8vIGluaXRpYWxpc2UgbmV3IHJvdW5kIChjb250cm9sbGVyKVxuLy8gY3JlYXRlIHJvdW5kXG5cblxuXG4gXG5cblxuXG5cbi8qXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqICAgICAgICAgICAgICAgICAgSW5pdGlhbCBTY3JlZW5cbiAqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuY29uc3QgY3JlYXRlR2FtZUJ0biA9IGNyZWF0ZUJ1dHRvbignY3JlYXRlR2FtZUJ0bicsICdjcmVhdGVHYW1lQnRuJywgY3JlYXRlR2FtZSlcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3JlYXRlR2FtZUJ0bik7Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRhaW5lciIsImNvbnRhaW5lcklkIiwiY29udGFpbmVyQ29sb3IiLCJuZXdEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY3JlYXRlTGFiZWwiLCJsYWJlbEZvciIsImxhYmVsVGV4dCIsIm5ld0xhYmVsIiwiaW5uZXJUZXh0IiwiY3JlYXRlSW5wdXQiLCJpbnB1dFR5cGUiLCJpbnB1dE5hbWUiLCJpbnB1dFZhbHVlIiwiaW5wdXRSZXF1aXJlZCIsIm5ld0lucHV0IiwidHlwZSIsIm5hbWUiLCJ2YWx1ZSIsInJlcXVpcmVkIiwiY3JlYXRlQnV0dG9uIiwiYnRuSWQiLCJidG5UZXh0IiwiYnRuQ2FsbGJhY2siLCJuZXdCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd0NhcmQiLCJjYXJkIiwiY2FyZERpdiIsImNsYXNzTGlzdCIsImFkZCIsImNhcmRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjb2xvckNsYXNzIiwic3VpdENvbG91ciIsInN1aXROYW1lVG9wIiwiY2FyZE5hbWVUb3AiLCJkaXNwbGF5TmFtZSIsImNhcmRTdWl0VG9wIiwic3VpdFN5bWJvbCIsInN1aXROYW1lQm90dG9tIiwiY2FyZE5hbWVCb3R0b20iLCJjYXJkU3VpdEJvdHRvbSIsImdhbWVDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImluaXRHYW1lQm9hcmREb20iLCJnYW1lRGF0YSIsImJvYXJkVXBwZXJTZWN0aW9uIiwiYm9hcmRNaWRkbGVTZWN0aW9uIiwiYm9hcmRCb3R0b21TZWN0aW9uIiwiYm9hcmRHYW1lSGVscFRleHQiLCJvcHBvbmVudEhhbmRDb250YWluZXIiLCJpIiwiY2FyZEJhY2siLCJnYW1lRnVuY3Rpb25zQ29udGFpbmVyIiwibGVmdEJ1dHRvbkNvbnRhaW5lciIsImdpbkJ0biIsInJpZ2h0QnV0dG9uY29udGFpbmVyIiwicGFzc0J0biIsInBsYXlpbmdEZWNrIiwiZGlzY2FyZFBpbGUiLCJtYXJnaW5SaWdodCIsImRpc2NhcmRDYXJkRm9yUGlja2luZyIsInJlbW92ZSIsImdhbWVIZWxwVGV4dCIsInBsYXllckhhbmRDb250YWluZXIiLCJwbGF5ZXJIYW5kIiwibGVuZ3RoIiwiY2FyZEZyb250IiwiZGVhZHdvb2RDb3VudGVyIiwicGxheWVyRGVhZHdvb2QiLCJjcmVhdGVHYW1lIiwiYXhpb3MiLCJwb3N0IiwidGhlbiIsInJlc3BvbnNlIiwiY3VycmVudEdhbWUiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZUdhbWVCdG4iLCJlcnJvciIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9